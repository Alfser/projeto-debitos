{"openapi":"3.1.0","info":{"title":"Serviço de Geração de Pagamento","description":"Serviço de Geração de Pagamentos.","version":"v1"},"servers":[{"url":"http://localhost:8090/api/v1","description":"Generated server url"}],"paths":{"/pagamento/status":{"put":{"tags":["pagamento"],"operationId":"atualizar-status-pagamento","parameters":[{"name":"updateStatusDTO","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PagamentoUpdateStatusDTO"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"No Content"}}}},"/pagamentos":{"post":{"tags":["pagamento"],"operationId":"salvar-pagamento","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PagamentoCreateDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagamentoDTO"}}}}}}},"/lista-pagamentos":{"get":{"tags":["pagamento"],"operationId":"listar-pagamentos","parameters":[{"name":"idPagamento","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"cpfCnpj","in":"query","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","required":false,"schema":{"type":"string","enum":["PENDENTE_PROCESSAMENTO","PROCESSADO_SUCESSO","PROCESSADO_FALHA"]}},{"name":"ativo","in":"query","required":false,"schema":{"type":"boolean"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sort","in":"query","required":false,"schema":{"type":"string","default":"idPagamento,desc"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SinglePageResponsePagamentoDTO"}}}}}}},"/pagamentos/{id}":{"delete":{"tags":["pagamento"],"operationId":"desativar-pagamento","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"204":{"description":"No Content"}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"status":{"type":"integer","format":"int32"},"error":{"type":"string"},"message":{"type":"string"},"path":{"type":"string"},"details":{"type":"array","items":{"type":"string"}}}},"PagamentoUpdateStatusDTO":{"type":"object","properties":{"idPagamento":{"type":"integer","format":"int64"},"status":{"type":"string","enum":["PENDENTE_PROCESSAMENTO","PROCESSADO_SUCESSO","PROCESSADO_FALHA"]}},"required":["idPagamento","status"]},"PagamentoCreateDTO":{"type":"object","properties":{"cpfCnpj":{"type":"string","minLength":1},"metodoPagamento":{"type":"string","enum":["BOLETO","PIX","CARTAO_CREDITO","CARTAO_DEBITO"]},"numeroCartao":{"type":"string"},"valor":{"type":"number"}},"required":["cpfCnpj","metodoPagamento","valor"]},"PagamentoDTO":{"type":"object","properties":{"id":{"type":"string"},"idPagamento":{"type":"integer","format":"int64"},"cpfCnpj":{"type":"string"},"metodoPagamento":{"type":"string","enum":["BOLETO","PIX","CARTAO_CREDITO","CARTAO_DEBITO"]},"numeroCartao":{"type":"string"},"valor":{"type":"number"},"status":{"type":"string","enum":["PENDENTE_PROCESSAMENTO","PROCESSADO_SUCESSO","PROCESSADO_FALHA"]},"ativo":{"type":"boolean"}}},"PaginationMetadata":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"pageSize":{"type":"integer","format":"int32"},"currentPage":{"type":"integer","format":"int32"},"previousPage":{"type":"integer","format":"int32"},"nextPage":{"type":"integer","format":"int32"}}},"SinglePageResponsePagamentoDTO":{"type":"object","properties":{"results":{"type":"array","items":{"$ref":"#/components/schemas/PagamentoDTO"}},"pagination":{"$ref":"#/components/schemas/PaginationMetadata"}}}}}}